var data=false;(function(c){c(document).ready(function(){var f=new RegExp("[\\?&]([^=]*)=([^&#]*)");var g=null;var e=null;if(f.test(window.location.search)){var d=f.exec(window.location.search);e=d[1];g=c.trim(d[2])}if(g!=null){g=decodeURIComponent(g).replace(new RegExp("\\+","gi")," ");b(g,e);if(e=="q"){c("#search_form input").val(g)}else{if(e=="tag"){c(".search-title").html("Tag : "+g)}else{if(e=="cat"){c(".search-title").html("Catégorie : "+g)}}}}});var a=function(e,d){return d.replace(new RegExp(e,"gi"),'<span class="match">$&</span>')};var b=function(j,f){var h=new Array();var e=new Array();var d=new Array();var g=new RegExp(j,"gi");c.get("/search.json?"+parseInt(Math.random()*10000000),function(n){for(i in n.posts){for(inf in n.posts[i]){var l=n.posts[i];switch(inf){case"title":case"subtitle":case"description":console.log(l[inf].match(g));if(l[inf].match(g)!=null){l[inf]=a(j,l[inf]);h[l.url]=l}break;case"tags":case"categories":for(elmt in l[inf]){if(l[inf][elmt].match(g)!=null){l[inf][elmt]=a(j,l[inf][elmt]);h[l.url]=l;if(f=="tag"&&inf=="tags"){e[l.url]=true}else{if(f=="cat"&&inf=="categories"){d[l.url]=true}}}}break}}}var m=[];for(url in h){var l=h[url];l.tags=l.tags.join(", ");l.categories=l.categories.join(", ");if(f=="tag"&&!(url in e)){continue}else{if(f=="cat"&&!(url in d)){continue}}var k='<li class="post"><p class="title"><a href="{{url}}">{{&title}}</a></p><small class="date"> — Article</small>';if(l.date){var k=k+'<small class="date"> — {{&date}}</small>'}if(l.categories.length){var k=k+'<small class="categories"> — {{&categories}}</small>'}if(l.tags.length){var k=k+'<small class="tags"> — {{&tags}}</small>'}if(l.description){var k=k+'<p class="description">{{&description}}</p>'}var k=k+"</li>";m.push(Mustache.render(k,l))}c("#loader").hide();c("#results").show();if(m.length){c("#results").html("<ul>"+m.join("\n")+"</ul>")}},"json")}})(jQuery);(function(){$(document).ready(function(){$("a.go_top").click(function(){$("html, body").animate({scrollTop:0},300);return false});return $(window).bind("scroll resize",function(){var a;a=$(window).scrollTop();if(a>=1){return $("a.go_top").show()}else{return $("a.go_top").hide()}})})}).call(this);